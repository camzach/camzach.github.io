<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel='shortcut icon' href='favicon.ico' type='image/x-icon'/>
    <title>Cameron Zach</title>
    <meta name="viewport" content="width=device-width,height=device-height,minimum-scale=1,maximum-scale=1"/>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel='stylesheet' type='text/css' href='reset.css'/>
    <link rel='stylesheet' type='text/css' href='style.css'/>
  </head>
  <body>

  <header id="nav">
    <div class="nav">
      <ul>
        <li><img src="logo.png" height=40></img></li>
        <li><h1 id="header-title"><a href="#">Cameron Zach</a></h1></li>
      </ul>
      <ul id="pages" class="active">
        <a href="javascript:$('#pages').toggleClass('open')" class="icon">â‰¡</a>
        <li><label><input type="radio" name="page" value="1" checked="checked"><span>Python</span></input></label></li>
        <li><label><input type="radio" name="page" value="2"><span>Java</span></input></label></li>
        <li><label><input type="radio" name="page" value="3"><span>Esoteric</span></input></label></li>
        <li><label><input type="radio" name="page" value="4"><span>4</span></input></label></li>
        <li><label><input type="radio" name="page" value="5"><span>5</span></input></label></li>
        <li><label><input type="radio" name="page" value="6"><span>6</span></input></label></li>
      </ul>
    </div>
  </header>
    
  <div id="slider">
  
  <div class="container activepage" id="1">
    
    <div class="row">
      <h1>Page 1</h1>
    </div>
    <div class="row">
      <h1>asdf 1</h1>
    </div>
    <div class="row">
      <h1>Page asdf</h1>
    </div>
    <div class="row">
      <h1> asdfasdfasdf 1</h1>
    </div>
    <div class="row">
      <h1>adhrjnmmmmmmmmmmmmm 1</h1>
    </div>
    <div class="row">
      <h1>qqqqqqqqq 1</h1>
    </div>
    <div class="row">
      <h1>asdfasdfasdfasdfasdfasdf 1</h1>
    </div>
    <div class="row">
      <h1>Page 1</h1>
    </div>
    <div class="row">
      <h1>safasdfasf 1</h1>
    </div>
    <div class="row">
      <h1>Page 1</h1>
    </div>
    <div class="row">
      <h1>adfhadfhadhfdah 1</h1>
    </div>
    <div class="row">
      <h1>Page 1</h1>
    </div>
    <div class="row">
      <h1>Page 1</h1>
    </div>
    <div class="row">
      <h1>Page 1</h1>
    </div>
    <div class="row">
      <h1>Page 1</h1>
    </div>
  </div>
  
  <div class="container" id="2" style="margin-left: 150%">
    <div class="row">
      <h1>Page 2</h1>
    </div>
  </div>
  
  <div class="container" id="3" style="margin-left: 150%">
    <div class="row">
      <h1>Page 3</h1>
    </div>
  </div>
  
  <div class="container" id="4" style="margin-left: 150%">
    <div class="row">
      <h1>Page 4</h1>
    </div>
  </div>
  
  <div class="container" id="5" style="margin-left: 150%">
    <div class="row">
      <h1>Page 5</h1>
    </div>
  </div>
  
  <div class="container" id="6" style="margin-left: 150%">
    <div class="row">
      <h1>Page 6</h1>
    </div>
  </div>
  
  </div>
  
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/hammer.js/2.0.8/hammer.js"></script>
  <script>
    var pages = $("#slider").children().length;
    var hammertime = new Hammer(document);
    
    hammertime.on('swipeleft', function(ev) {swipe('left', ev)});
    hammertime.on('swiperight', function(ev) {swipe('right', ev)});
    
    $('input[type=radio][name=page]').change(function() {
      $('.container').css('overflow-y', 'hidden');
      var pageNum = parseInt($('.activepage').attr('id'));
      var newPage = parseInt(this.value);
      if (newPage > pageNum) {
        swipeleftto(newPage, pageNum);
      }
      if (pageNum > newPage) {
        swiperightto(newPage, pageNum);
      }
    });
    
    function swipe(dir, ev) {
      $('.container').css('overflow-y', 'hidden');
      var pageNum = parseInt($('input[name=page]:checked').val())
      switch(dir) {
        case 'left':
          swipeleft();
          $('input[name=page][value='+(pageNum+1)+']').prop('checked', true);
          break;
        case 'right':
          swiperight();
          $('input[name=page][value='+(pageNum-1)+']').prop('checked', true);
          break;
      }
    }
    
    function swipeleft() {
      var currentPage = $('.activepage');
      var pageNum = parseInt(currentPage.attr('id'));
      if (pageNum == pages) {
        return;
      }
      $('input[name=page][value='+pageNum+']').prop('checked', false);
      currentPage.animate({
          marginLeft: "-100%"
        }, {
          duration: 500,
          queue: false,
          complete: function() {
            currentPage.css('marginLeft', '150%');
            currentPage.next().addClass('activepage');
            currentPage.appendTo('#slider');
            currentPage.removeClass('activepage');
            $('.container').css('overflow-y', 'auto');
          }
        }
      );
      
      currentPage.next().animate({
            marginLeft: '0%'
          }, {
            duration: 500,
            queue: false
          });
    }
    
    function swipeleftto(newPage, pageNum) {
      for (var i = 1; i <= newPage-pageNum; i++) {
        $('.container[id='+(pageNum+i)+']').css('marginLeft', 100*i+'%');
      }
      for (var i = 0; i < newPage-pageNum; i++) {
        $('.container[id='+(pageNum+i)+']').animate({
          marginLeft: (((newPage-pageNum)-i)*-100)+'%'
        }, {
          duration: 500,
          queue: false,
          complete: function() {
            $(this).css('marginLeft', '150%');
            $('.container').css('overflow-y', 'auto');
          }
        });
      }
      $('.container[id='+newPage+']').animate({
        marginLeft: '0%'
      }, 500);
      for (var i = 0; i < newPage-pageNum; i++) {
        $('.container[id='+(pageNum+i)+']').appendTo('#slider');
      }
      $('.activepage').removeClass('activepage');
      $('.container[id='+newPage+']').addClass('activepage');
    }
    
    function swiperight() {
      var currentPage = $('.activepage');
      var pageNum = parseInt(currentPage.attr('id'));
      if (pageNum == 1) {
        return;
      }
      $('input[name=page][value='+pageNum+']').prop('checked', false);
      currentPage.parent().children().last().css('marginLeft', '-100%');
      currentPage.animate({
          marginLeft: "200%"
        }, {
          duration: 500,
          queue: false,
          complete: function() {
            currentPage.css('marginLeft', '150%');
            currentPage.parent().children().last().addClass('activepage');
            currentPage.parent().children().last().prependTo('#slider');
            currentPage.removeClass('activepage');
            $('.container').css('overflow-y', 'auto');
          }
        }
      );
      
      currentPage.parent().children().last().animate({
            marginLeft: '0%'
          }, {
            duration: 500,
            queue: false
          });
    }
    
    function swiperightto(newPage, pageNum) {
      for (var i = 1; i <= pageNum-newPage; i++) {
        $('.container[id='+(pageNum-i)+']').css('marginLeft', -100*i+'%');
      }
      for (var i = 0; i < pageNum-newPage; i++) {
        $('.container[id='+(pageNum-i)+']').animate({
          marginLeft: ((pageNum-newPage-i+1)*100)+'%'
        }, {
          duration: 500,
          queue: false,
          complete: function() {
            $(this).css('marginLeft', '150%');
            $('.container').css('overflow-y', 'auto');
          }
        });
      }
      $('.container[id='+newPage+']').animate({
        marginLeft: '0%'
      }, {
        duration: 500,
        queue: false
      });
      for (var i = pageNum; i <= $('#slider').children().length; i++) {
        $('.container[id='+i+']').appendTo('#slider');
      }
      for (var i = 1; i < newPage; i++) {
        $('.container[id='+i+']').appendTo('#slider')
      }
      $('.activepage').removeClass('activepage');
      $('.container[id='+newPage+']').addClass('activepage');
      
    }
  </script> 
  </body>
</html>